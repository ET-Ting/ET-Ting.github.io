{"title":"【Tutorial】如何在 Kaggle 創建比賽","date":"2023-06-01T14:40:27.000Z","date_formatted":{"ll":"Jun 1, 2023","L":"06/01/2023","MM-DD":"06-01"},"author":"ET","link":"2023/06/01/【Tutorial】Kaggle-創建比賽","updated":"2023-06-05T03:26:17.306Z","content":"<blockquote>\n<p>抽絲剝繭 發現你是如此的特別</p>\n</blockquote>\n<p align=\"right\">—— 陳綺貞〈華生〉</p>\n<h3 id=\"緣起\">緣起<a title=\"#緣起\" href=\"#緣起\"></a></h3>\n<p>這學期擔任計算語言學課堂的助教，課程中，老師希望讓同學體驗程式競賽的氛圍，同時能夠即時檢驗訓練結果的成效，因此，讓我在 Kaggle 平台上創建一個黑客松 (Hackathon) 比賽。</p>\n<p>不過，由於網路上關於建立 Kaggle 比賽的資訊並不多，我在創建過程中也是經歷了一番摸索，因此寫下這篇文章來紀錄我的探索歷程。</p>\n<h3 id=\"關於-kaggle\">關於 Kaggle<a title=\"#關於-kaggle\" href=\"#關於-kaggle\"></a></h3>\n<p><a href=\"https://www.kaggle.com/\" target=\"_blank\">Kaggle</a> 是一個與機器學習相關的數據平台，當中集結了豐富的資料集、模型、程式碼和課程，也提供開放空間讓使用者能夠共同交流、學習；另外，在 Kaggle 上也舉辦了各種競賽，讓使用者們能夠互相切磋砥礪，而這些競賽成績也是許多企業機構參照的能力指標。</p>\n<p>平台當中除了官方辦理的比賽，使用者們也可以自由在上面建立競賽，系統會根據創建時提供的答案計算成績並排名，這對於想讓大家集思廣益共同解惑的人，或是希望在課堂中加入挑戰環節的教師們，都是可以多加利用的管道。</p>\n<h3 id=\"在-kaggle-創建競賽\">在 Kaggle 創建競賽<a title=\"#在-kaggle-創建競賽\" href=\"#在-kaggle-創建競賽\"></a></h3>\n<p>在這次創建比賽的過程中，我主要參考<a href=\"https://www.youtube.com/watch?v=rtzUHuGOZ7o\" target=\"_blank\">這部影片</a>，當中示範了如何創建影像辨識的機器學習競賽，雖然與我欲建立的序列標記 (sequence labeling) 比賽不同，但在操作流程以及送入的資料格式方面，皆有許多值得參照之處。</p>\n<p>以下將逐步介紹比賽的創建過程：</p>\n<h4 id=\"1.-建立一個新的比賽\">1. 建立一個新的比賽<a title=\"#1.-建立一個新的比賽\" href=\"#1.-建立一個新的比賽\"></a></h4>\n<p>於 Kaggle 網頁左側點擊 Competitions 頁面，並接續按下 Host a Competition 和 Get Started 按鈕。</p>\n<p><img src=\"competitions01.png\" alt=\"在 Competitions 頁面中按下 Host a Competition 按鈕\" loading=\"lazy\"><br>\n<img src=\"competitions01.png\" width=\"60%\" /></p>\n<center><font size=\"1\">在 Competitions 頁面中按下 Host a Competition 按鈕</font></center>\n<br>\n<img src=\"competitions02.png\" width=\"60%\" />\n<center><font size=\"1\">點選 Community Competitions 一欄的 Get Started 按鈕 <p>(若有其他功能需求，則可參考 Featured Competitions 欄位之說明)</p></font></center>\n<p>在 Create a Competition 頁面中填入比賽的相關資訊，記得 <span style=\"background-color: #B7EEE0\">title 欄位需填入英文或數字</span>，因為此名稱是網址 (URL) 的一部分，若填入中文會無法順利生成比賽連結。</p>\n<img src=\"competitions03.png\" width=\"60%\" />\n<center><font size=\"1\">於 Create a Competition 頁面中填入比賽相關資訊</font></center>\n<br>\n<h4 id=\"2.-備妥資料集\">2. 備妥資料集<a title=\"#2.-備妥資料集\" href=\"#2.-備妥資料集\"></a></h4>\n<p>建立 Kaggle 比賽前，需準備好四個資料集，分別為訓練集 (training set)、測試集 (test set)、範例資料集 (sample) 和正確解答 (solution file)。</p>\n<p>本次創建的是醫病對話之序列標記任務，資料源於 <a href=\"https://aidea-web.tw/topic/d84fabf5-9adf-4e1d-808e-91fbd4e03e6d\" target=\"_blank\">2020 AI CUP 的「醫病資料去識別化」競賽</a>，下面分別簡介各資料集的內容：</p>\n<p>(1) <strong>訓練集 (training set)</strong>：</p>\n<p>提供參賽者訓練模型的資料集，以本次的醫病對話標記任務為例，訓練集中包含資料編號 (<code>id</code>)、對話語句 (<code>sentence</code>) 和標記 (<code>label</code>)。</p>\n<img src=\"dataset01.png\" width=\"60%\" />\n<center><font size=\"1\">訓練集 (training set) 資料格式</font></center>\n<p>(2) <strong>測試集 (test set)</strong>：</p>\n<p>欲讓參賽者進行識別預測的資料集，當中包括資料編號 (<code>id</code>) 和對話語句 (<code>sentence</code>)。</p>\n<img src=\"dataset02.png\" width=\"60%\" />\n<center><font size=\"1\">測試集 (test set) 資料格式</font></center>\n<p>(3) <strong>範例資料集 (sample)</strong>：</p>\n<p>用以示範應提交的資料形式，也可作為本次競賽評分的基準值；換句話說，此次比賽中欲讓參賽者以何種格式繳交結果，便以範例資料集 (sample) 為參考依據，讓參賽者知道最終提交的結果中應包含哪些欄位，以及資料型態為何。</p>\n<p>以序列標記任務為例，參賽者的目標是訓練模型識別命名實體，若偵測出地點專有名詞 <code>小明復健診所</code>，則會逐字標記為 <code>B-location I-location I-location I-location I-location I-location</code>；而非命名實體內之字元則以 <code>O</code> 標註。</p>\n<p>因此，在生成範例資料集 (sample) 時，我便讓全部字元的標記都為 <code>O</code>，表示所有專有名詞都沒有被成功預測出來；但參賽者可以從此份檔案中得知，最終的提交結果需包括資料編號 (<code>id</code>) 和標記 (<code>label</code>) 兩個欄位，且資料型態分別為數值和字串。</p>\n<p>而範例資料集 (sample) 送入 Kaggle 系統所得到的分數，也作為本次競賽的基準值。</p>\n<pre><code>為利 FScoreMicro 分數的計算，label 欄位的標記之間均不得以空白格分隔，後續評分處會有更詳盡的說明。 \n</code></pre>\n<img src=\"dataset03.png\" width=\"50%\" />\n<center><font size=\"1\">範例資料集 (sample) 之資料格式</font></center>\n<p>(4) <strong>正確解答 (solution file)</strong>：</p>\n<p>為測試集 (test set) 的正確解答，所含資料欄位與範例資料集 (sample) 一樣，包括資料編號 (<code>id</code>) 和標記 (<code>label</code>)，需注意<span style=\"background-color: #B7EEE0\">此份資料的編號 (<code>id</code>) 要與測試集 (test set) 的一致</span>，系統才得以據此對照資料列來計算分數。</p>\n<pre><code>label 欄位的標記間同樣不得有空白格分隔，以利 FScoreMicro 分數的計算，下面會更詳細地說明。\n</code></pre>\n<img src=\"dataset04.png\" width=\"45%\" />\n<center><font size=\"1\">正確解答 (solution file) 之資料格式</font></center>\n<br>\n<h4 id=\"3.-上傳資料集和設定評分指標\">3. 上傳資料集和設定評分指標<a title=\"#3.-上傳資料集和設定評分指標\" href=\"#3.-上傳資料集和設定評分指標\"></a></h4>\n<p>備齊上述的四份資料集後，便可於競賽頁面上傳檔案。訓練集 (training set)、測試集 (test set) 和範例資料集 (sample) 需上傳至 Data 處，供參賽者下載以訓練模型及參考格式。</p>\n<img src=\"upload01.png\" width=\"90%\" />\n<center><font size=\"1\">於 Data 處上傳訓練集 (training set)、測試集 (test set) 和範例資料集 (sample)</font></center>\n<p>正確解答 (solution file) 則需上傳至 Host 的 Evaluation 處，在此之前，需先選定競賽的評分指標 (Scoring Metric)，以供系統評估、計算成績。</p>\n<img src=\"upload02.png\" width=\"90%\" />\n<center><font size=\"1\">於 Host 的 Evaluation 處設定評分相關事項</font></center>\n<p>本次比賽選用 FScoreMicro 指標，系統將會比對參賽者提交的結果及正確解答 (solution file)，給定介於 0 至 1 的分數。然而，在這次測試的過程中發現到，倘若 label 欄位的標記之間留有空白格，便會干擾分數的計算，以致獲得比實際要低的分數；因此，<span style=\"background-color: #B7EEE0\">若以 FscoreMicro 計算成績，則必須將所有標記結果黏合，不得留有空白格</span> (以 Accuracy 評估成績則不會有此問題)。</p>\n<p>完成評分指標的設定後，便可依序上傳正確解答 (solution file) 和範例資料集 (sample)，接著於其下的 Solution Mapping 下拉選定對照 Id (String) 欄位和 Expected (String) 欄位，若能成功點選表示資料格式和型態對應無誤。</p>\n<img src=\"upload03.png\" width=\"90%\" />\n<center><font size=\"1\">上傳檔案後下拉對應資料欄位，Id 選定 Id (String)；而 label 選擇 Expected (String)</font></center>\n<p>下方百分比的設定，用以切分私人和公共分數計算的資料比例，若公共積分榜百分比 (Public Leaderboard Percentage) 設為 70%，則所繳交結果當中，百分之七十的資料會於比賽進行間，用作呈現即時排名的分數計算依據；其餘 30% 的資料計算出之成績，則影響最終競賽截止後的積分榜排名。在此我設定私人和公共兩邊各平分一半的資料量。</p>\n<img src=\"upload04.png\" width=\"90%\" />\n<center><font size=\"1\">切分用以計算公共和私人成績的資料比例</font></center>\n<br>\n<h4 id=\"4.-設定分數基準值\">4. 設定分數基準值<a title=\"#4.-設定分數基準值\" href=\"#4.-設定分數基準值\"></a></h4>\n<p>完成檔案上傳及分數相關設定後，便可在 Host 的 Sandbox Submissions 中勾選 Benchmark，將已上傳的檔案設為分數計算的基準值。</p>\n<img src=\"benchmark01.png\" width=\"90%\" />\n<center><font size=\"1\">勾選檔案作為分數基準值</font></center>\n<p>隨後，便可在 Leaderboard 中看見設定好的分數基準值。</p>\n<img src=\"benchmark02.png\" width=\"90%\" />\n<center><font size=\"1\">查看設定好的基準值 <p>(此圖片顯示為參賽者繳交後之結果)</p></font></center>\n<br>\n<h4 id=\"5.-競賽提交設定及啟動比賽\">5. 競賽提交設定及啟動比賽<a title=\"#5.-競賽提交設定及啟動比賽\" href=\"#5.-競賽提交設定及啟動比賽\"></a></h4>\n<p>於 Host 的 Settings 可以設定比賽的開始及截止日期，亦可限定每一組別的人數限制，以及每組每日至多提交次數。儲存設定後，便可分享比賽連結邀請大家一同參與競賽。</p>\n<h3 id=\"結語\">結語<a title=\"#結語\" href=\"#結語\"></a></h3>\n<p>Kaggle 提供了一個開放的環境讓使用者可以自由創建競賽，尤以將其活用於教學中，能讓學生有實際參與以及相互切磋的機會，也能讓大家交流各自的模型訓練方式和選用特徵，如此更能活用課堂中所學的理論和知識，亦增添課程中的挑戰及趣味性。</p>\n","next":{"title":"【Intern】迪威智能實習心得","link":"2023/02/13/【Intern】迪威智能實習心得"},"plink":"http://example.com/2023/06/01/【Tutorial】Kaggle-創建比賽/","toc":[{"id":"緣起","title":"緣起","index":"1"},{"id":"關於-kaggle","title":"關於 Kaggle","index":"2"},{"id":"在-kaggle-創建競賽","title":"在 Kaggle 創建競賽","index":"3"},{"id":"結語","title":"結語","index":"4"}],"reading_time":"2116 words in 14 min"}